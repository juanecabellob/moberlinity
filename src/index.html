<!DOCTYPE html>
<!-- <html class="no-js" lang="en"  manifest="hotpi.manifest" > -->
<html class="no-js" lang="en" >
<head>
  <meta charset="UTF-8">
   <!-- Use minimum-scale=1 to enable GPU rasterization -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, user-scalable=0, maximum-scale=1, minimum-scale=1">
  <title>Moberlinity</title>
  <link href="styles.css" rel="stylesheet" />


</head>
<body>
<div id="app"></div>
<button class="map-controllers" id="initializer"> Start simulation</button>
<select class="map-controllers" id="history"></select>
<script src='https://npmcdn.com/@turf/turf/turf.min.js'></script>
<script src='https://api.tiles.mapbox.com/mapbox.js/v2.0.1/mapbox.js'></script>
<link href='https://api.tiles.mapbox.com/mapbox.js/v2.0.1/mapbox.css' rel='stylesheet' />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/superagent/3.5.2/superagent.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.5.0/bluebird.js"></script>

<link href='https://www.mapbox.com/base/latest/base.css' rel='stylesheet' />

<script src="map.js"></script>
<script src="index.js"></script>
<script>
$(document).ready(() => {
  let simulation = new Simulation();
  $('#initializer').on('click', () => {
    simulation.run();
  })
  $('.leaflet-marker-draggable').on('mousewheel', function(e){
    let wheelDelta= e.originalEvent.wheelDeltaY;
    if (this.currentRadius - wheelDelta * 0.001 >= 0.2 && this.currentRadius - wheelDelta * 0.001 <= 8 && !onSimulation) {
      this.currentRadius = this.currentRadius - wheelDelta * 0.001;
      this.drawCircleArea();
    }

    e.stopPropagation();
  });
})
</script>
</body>
</html>
